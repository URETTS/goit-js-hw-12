{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '47590180-dc1d7afa62bd02f66448b190c'; \n\nexport function fetchImages(query, page = 1, perPage = 9) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPage}&page=${page}`;\n    console.log('Generated URL:', url);\n\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                console.error(`HTTP Error: ${response.status}`);\n                throw new Error(`Failed to fetch images: ${response.statusText}`);\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log('API Response:', data);\n            return data;\n        })\n        .catch(error => {\n            console.error('Fetch Error:', error);\n            throw error;\n        });\n}\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n                <p><b>Likes:</b> ${likes}</p>\n                <p><b>Views:</b> ${views}</p>\n                <p><b>Comments:</b> ${comments}</p>\n                <p><b>Downloads:</b> ${downloads}</p>\n            </div>\n        </a>\n    `).join('');\n    \n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery-item', { captionsData: 'alt', captionDelay: 250 });\n    } else {\n        lightbox.refresh();\n    }\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n}\n","console.log('main.js loaded');\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, clearGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-container');\nconst input = document.querySelector('#search-input');\nconst gallery = document.createElement('div');\ngallery.classList.add('gallery');\ndocument.body.append(gallery);\n\nform.addEventListener('click', async (e) => {\n    e.preventDefault();\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({ title: 'Warning', message: 'Please enter a search term!' });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    try {\n        const data = await fetchImages(query);\n\n        if (data.hits.length === 0) {\n            iziToast.info({ title: 'Info', message: 'Sorry, there are no images matching your search query. Please try again!' });\n        } else {\n            renderGallery(data.hits);\n        }\n    } catch (error) {\n        iziToast.error({ title: 'Error', message: 'Something went wrong. Please try again later!' });\n    } finally {\n        hideLoader();\n    }\n});\n\nfunction showLoader() {\n    const loader = document.createElement('div');\n    loader.classList.add('loader');\n    loader.textContent = 'Loading...';\n    document.body.append(loader);\n}\n\nfunction hideLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) loader.remove();\n}\n\n\n\n"],"names":["BASE_URL","API_KEY","fetchImages","query","page","perPage","url","response","data","error","lightbox","renderGallery","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","form","input","e","iziToast","showLoader","hideLoader","loader"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,EAAG,CACtD,MAAMC,EAAM,GAAGN,CAAQ,QAAQC,CAAO,MAAM,mBAAmBE,CAAK,CAAC,qEAAqEE,CAAO,SAASD,CAAI,GAC9J,eAAQ,IAAI,iBAAkBE,CAAG,EAE1B,MAAMA,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,cAAQ,MAAM,eAAeA,EAAS,MAAM,EAAE,EACxC,IAAI,MAAM,2BAA2BA,EAAS,UAAU,EAAE,EAEpE,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,IACF,QAAQ,IAAI,gBAAiBA,CAAI,EAC1BA,EACV,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAM,eAAgBA,CAAK,EAC7BA,CAClB,CAAS,CACT,CCpBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,wCACpEL,CAAa;AAAA,wBAC7BD,CAAY,UAAUE,CAAI;AAAA;AAAA,mCAEfC,CAAK;AAAA,mCACLC,CAAK;AAAA,sCACFC,CAAQ;AAAA,uCACPC,CAAS;AAAA;AAAA;AAAA,KAG3C,EAAE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAM,EAEzCJ,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAIY,EAAe,gBAAiB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAIjG,CAEO,SAASC,GAAe,CAC3B,MAAMV,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CC/BA,QAAQ,IAAI,gBAAgB,EAO5B,MAAMW,EAAO,SAAS,cAAc,mBAAmB,EACjDC,EAAQ,SAAS,cAAc,eAAe,EAC9CZ,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,SAAS,EAC/B,SAAS,KAAK,OAAOA,CAAO,EAE5BW,EAAK,iBAAiB,QAAS,MAAOE,GAAM,CACxCA,EAAE,eAAc,EAChB,MAAMvB,EAAQsB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACtB,EAAO,CACRwB,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,6BAA6B,CAAE,EAC7E,MACH,CAEDJ,IACAK,IAEA,GAAI,CACA,MAAMpB,EAAO,MAAMN,EAAYC,CAAK,EAEhCK,EAAK,KAAK,SAAW,EACrBmB,EAAS,KAAK,CAAE,MAAO,OAAQ,QAAS,0EAA0E,CAAE,EAEpHhB,EAAcH,EAAK,IAAI,CAE9B,MAAe,CACZmB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,+CAA+C,CAAE,CACnG,QAAc,CACNE,GACH,CACL,CAAC,EAED,SAASD,GAAa,CAClB,MAAME,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,aACrB,SAAS,KAAK,OAAOA,CAAM,CAC/B,CAEA,SAASD,GAAa,CAClB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GAAQA,EAAO,QACvB"}